<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R Training - Into the {tidyverse}</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">R Training</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../tutorials.html" rel="" target="">
 <span class="menu-text">Tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://canvas.sussex.ac.uk/courses/29761" rel="" target="">
 <span class="menu-text">Canvas</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../tutorials/tutorial_01.html">Into the {tidyverse}</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/tutorial_01.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Into the {tidyverse}</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/tutorial_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorial 05</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#logical-assertions" id="toc-logical-assertions" class="nav-link active" data-scroll-target="#logical-assertions">Logical Assertions</a>
  <ul class="collapse">
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors">Vectors</a></li>
  </ul></li>
  <li><a href="#the-console" id="toc-the-console" class="nav-link" data-scroll-target="#the-console">The Console</a>
  <ul class="collapse">
  <li><a href="#task-1" id="toc-task-1" class="nav-link" data-scroll-target="#task-1">Task 1</a></li>
  <li><a href="#glossorlia" id="toc-glossorlia" class="nav-link" data-scroll-target="#glossorlia">GlossoRlia</a></li>
  </ul></li>
  <li><a href="#types-of-data" id="toc-types-of-data" class="nav-link" data-scroll-target="#types-of-data">Types of Data</a>
  <ul class="collapse">
  <li><a href="#numbers" id="toc-numbers" class="nav-link" data-scroll-target="#numbers">Numbers</a>
  <ul class="collapse">
  <li><a href="#task-2" id="toc-task-2" class="nav-link" data-scroll-target="#task-2">Task 2</a></li>
  <li><a href="#order-of-operations" id="toc-order-of-operations" class="nav-link" data-scroll-target="#order-of-operations">Order of Operations</a></li>
  </ul></li>
  <li><a href="#characters" id="toc-characters" class="nav-link" data-scroll-target="#characters">Characters</a>
  <ul class="collapse">
  <li><a href="#task-3" id="toc-task-3" class="nav-link" data-scroll-target="#task-3">Task 3</a></li>
  </ul></li>
  <li><a href="#logical" id="toc-logical" class="nav-link" data-scroll-target="#logical">Logical</a>
  <ul class="collapse">
  <li><a href="#task-4" id="toc-task-4" class="nav-link" data-scroll-target="#task-4">Task 4</a></li>
  </ul></li>
  <li><a href="#class-and-coercion" id="toc-class-and-coercion" class="nav-link" data-scroll-target="#class-and-coercion">Class and Coercion</a>
  <ul class="collapse">
  <li><a href="#task-5" id="toc-task-5" class="nav-link" data-scroll-target="#task-5">Task 5</a></li>
  <li><a href="#task-6" id="toc-task-6" class="nav-link" data-scroll-target="#task-6">Task 6</a></li>
  </ul></li>
  <li><a href="#objects" id="toc-objects" class="nav-link" data-scroll-target="#objects">Objects</a>
  <ul class="collapse">
  <li><a href="#creating-an-object" id="toc-creating-an-object" class="nav-link" data-scroll-target="#creating-an-object">Creating an Object</a></li>
  <li><a href="#task-7" id="toc-task-7" class="nav-link" data-scroll-target="#task-7">Task 7</a></li>
  <li><a href="#calling-an-object" id="toc-calling-an-object" class="nav-link" data-scroll-target="#calling-an-object">Calling an Object</a></li>
  <li><a href="#using-objects" id="toc-using-objects" class="nav-link" data-scroll-target="#using-objects">Using Objects</a></li>
  </ul></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a>
  <ul class="collapse">
  <li><a href="#fun-with-functions" id="toc-fun-with-functions" class="nav-link" data-scroll-target="#fun-with-functions">Fun with Functions</a></li>
  <li><a href="#task-15" id="toc-task-15" class="nav-link" data-scroll-target="#task-15">Task 15</a></li>
  <li><a href="#arguments" id="toc-arguments" class="nav-link" data-scroll-target="#arguments">Arguments</a></li>
  <li><a href="#using-functions" id="toc-using-functions" class="nav-link" data-scroll-target="#using-functions">Using Functions</a></li>
  <li><a href="#choosing-functions" id="toc-choosing-functions" class="nav-link" data-scroll-target="#choosing-functions">Choosing Functions</a></li>
  </ul></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a>
  <ul class="collapse">
  <li><a href="#rounding-revisited" id="toc-rounding-revisited" class="nav-link" data-scroll-target="#rounding-revisited">Rounding, Revisited</a></li>
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link" data-scroll-target="#installing-packages">Installing Packages</a></li>
  <li><a href="#loading-packages" id="toc-loading-packages" class="nav-link" data-scroll-target="#loading-packages">Loading Packages</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Into the {tidyverse}</h1>
<p class="subtitle lead">Introduction to R/RStudio</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="logical-assertions" class="level2">
<h2 class="anchored" data-anchor-id="logical-assertions">Logical Assertions</h2>
<p>Before we jump headfirst data wrangling, we first need to practice a core idea that underlies how many of these functions work.</p>
<p>Many of the functions and operations we will encounter in R rely on <em>logical assertions</em>. A logical assertion is a statement that can be either true or false (in R, of course, <code>TRUE</code> or <code>FALSE</code>). Let’s look at an example first.</p>
<p>To begin, let’s ask R whether 10 is greater than 5:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">&gt;</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>R sensibly returns <code>TRUE</code>. Essentially, we are making a claim (10 is greater than 5) and R tells us whether that claim, or assertion, is true or not. Similarly, we can assert that 5 is greater than 10:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&gt;</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>And R again, very sensibly, tells us that we’re wrong (<code>FALSE</code>). So far so good!</p>
<section id="vectors" class="level3">
<h3 class="anchored" data-anchor-id="vectors">Vectors</h3>
<p>In the next step, we’re going to meet a foundational piece of the way R works: the <strong>vector</strong>. Vectors are essentially one-dimensional lists of pieces of information. What this means is that instead of asking R about one number at a time, we could po</p>
</section>
</section>
<section id="the-console" class="level2">
<h2 class="anchored" data-anchor-id="the-console">The Console</h2>
<p>The Console is deceptively simple: just the <code>&gt;</code> symbol with a flashing cursor after it, waiting for you to type something. However, the Console is the heart of R, where anything you want to do actually happens. Every command that you type, anything you want R to do, goes through here.</p>
<p>That sounds pretty intense, so let’s get a couple of things straight right away. You will, inevitably, make typos and mistakes using R. You will write commands that make sense to you that R doesn’t understand; you will write commands that <strong>don’t</strong> make sense to you, that R <strong>does</strong> understand; and you will see all kinds of exciting errors, warning messages, and - once we get to the fun stuff - beautiful plots and results for our studies. So, right now, let’s get over the fear of doing something “wrong” in R. You will do many, many things wrong, just like someone saying their first few words in a new language. Who cares? You’re learning.</p>
<section id="task-1" class="level3">
<h3 class="anchored" data-anchor-id="task-1">Task 1</h3>
<p>Type literally any gibberish, words, keysmashes etc. into the Console and press Enter.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Keysmash!</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>aslavb;lj aew aljvb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;text&gt;:2:11: unexpected symbol
1: ## Keysmash!
2: aslavb;lj aew
             ^</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Words!</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>This is fun<span class="sc">!</span> I<span class="st">'m having fun!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;text&gt;:2:6: unexpected symbol
1: ## Words!
2: This is
        ^</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Emojis! </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>¯\<span class="fu">_</span>(ツ)_<span class="sc">/</span>¯</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;text&gt;:2:1: unexpected input
1: ## Emojis! 
2: ¯
   ^</code></pre>
</div>
</div>
<p>Well, that went about as expected!</p>
<p>Luckily, R has a very short memory (that is to say, no memory to speak of) and is always ready to do the next thing I ask straightaway, even if it’s nonsense - which is lucky for me, I can assure you.</p>
<p>If you haven’t tried this yet, and the cursor in the Console is just blinking balefully at you, I’m serious - smash your head into the keyboard if you have to, or let your cat walk on it, or play it as if it were a piano, and press Enter. There are two important things that we are learning here:</p>
<ol type="1">
<li><p>To ask R to do something - that is, to “run” or “execute” the commands you write - you must write them out in the Console and press Enter.</p></li>
<li><p>Eventually, inevitably, something that you type WILL produce an error. This is no cause for panic, fear, or alarm, so get it out of the way now!</p></li>
</ol>
<p>From our gleeful keysmashing above, you will have seen that <code>aslavb;lj aew aljvb</code>, <code>This is fun! I'm having fun!</code>, and <code>¯\_(ツ)_/¯</code> are not valid commands in R. In other words, although each of these has <a href="https://www.cjr.org/language_corner/keysmash-qwerty-asdf.php">a communicative function for humans</a>, R can’t understand them. In order to get the answer that we want, we have to ask R to do something in a way it can understand, by writing commands it can parse (i.e.&nbsp;decipher) using the R language.</p>
</section>
<section id="glossorlia" class="level3">
<h3 class="anchored" data-anchor-id="glossorlia">GlossoRlia</h3>
<p>Just like learning any other language, learning to communicate with R takes time and practice, and it can be very frustrating when you and R can’t seem to understand each other. However, one advantage of learning to talk to R vs learning to speak a human language is that R always works the same way. It doesn’t get angry or sullen or sarcastic; it won’t ignore you or get impatient even if you ask it the same question a thousand times; and even if the response it gives doesn’t make sense to you, there’s always a logical reason for what it does.</p>
<p>What I am trying to tackle right away is the idea that R is scary or incomprehensible. R is just a system for doing tasks that computers are great at - sifting through thousands of data points in a second, making systematic changes to huge datasets, creating complex mathematical models, drawing elaborate plots. It’s powerful, and the very fact that you can do so much with it also means there’s a lot to learn. But although R can do maths a lot quicker than a human, it can’t design studies, or critically evaluate an argument, or appreciate a well-chosen emoji, or have sudden bursts of inspiration, or use the results it produces to improve society. Ultimately it’s just a tool to help you achieve your goals.</p>
<p>Right, enough philosophizing. Let’s prove the point by jumping into R and learning about how it works!</p>
</section>
</section>
<section id="types-of-data" class="level1">
<h1>Types of Data</h1>
<p>One key concept for using R is the different ways it categorises data. By “data”, I mean any piece of information you put into R - a word, a number, the result of a command or calculation, a dataset, etc. Depending on the type of data you have, R will treat it differently, and some operations only work on certain types of data. So, let’s have a look at how R codes and deals with different types of data. There are lots of types of data in R, but we’ll stick to three of the most common and important: numbers, characters, and logical.</p>
<section id="numbers" class="level2">
<h2 class="anchored" data-anchor-id="numbers">Numbers</h2>
<p>The first, and most obvious, type of data in R is numbers. Once again, let’s create a new code chunk and see what happens.</p>
<section id="task-2" class="level3">
<h3 class="anchored" data-anchor-id="task-2">Task 2</h3>
<p>Type any single number in your new code chunk, then run the chunk.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember that you can run all the code in a code chunk by pressing Ctrl/Cmd + Shift + Enter on your keyboard, or by clicking the green “play” arrow in the top right corner of the chunk.</p>
<p>You can also run only a particular line of code, or something that you’ve highlighted, by pressing Ctrl/Cmd + Enter.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pick any number at random - that's what I did!</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3958</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3958</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>This might be what you’d expect. We’ve essentially asked R, “Give me 3958” (or whatever number you put in) and R obliges. The only thing that might be a surprise is the <code>[1]</code> marker, called an <strong>index</strong>. Basically, R has replied, “The first thing (<code>[1]</code>) that you asked me for is 3958.” We’ll come back to this in a moment.</p>
<section id="task-2.1" class="level4">
<h4 class="anchored" data-anchor-id="task-2.1">Task 2.1</h4>
<p>Try putting in another number that’s at least 4 digits long, including the commas to separate the thousands and hundreds places.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>,<span class="dv">958</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;text&gt;:1:2: unexpected ','
1: 3,
     ^</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>No good there. This is because commas have an important role to play in functions, as we will see later on. For now, we’ve seen that for long numbers, we need to give them to R without any commas. (Full stops to mark decimal places are just fine; try it if you like.)</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Try for a moment switching to Source mode by clicking the <code>Source</code> button in the upper left hand of your Quarto document. You can see that RStudio helpfully marks out the part of the code that isn’t parsable (not in “grammatical” R) with a red ❌ next to the line number, and squiggly red underlining, likely familiar from word processing programmes, under the part of the code that’s causing the issue. It won’t do this for every error, but it’s very helpful for finding “grammatical” errors like extra or missing brackets and commas.</p>
</div>
</div>
<p>Next, let’s try doing some basic maths.</p>
</section>
<section id="task-2.2" class="level4">
<h4 class="anchored" data-anchor-id="task-2.2">Task 2.2</h4>
<p>Add together your shoe size and the number of windows in the room you’re currently in.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span> <span class="sc">+</span> <span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 48</code></pre>
</div>
</div>
<p>Important to note here is that we don’t need to type an <code>=</code> to get the answer, just the equation we want to solve and press Enter. Again, we’ve asked R, “Give me 40 + 8” and R replies with the answer.</p>
<p>You will not be surprised to learn that you can use R as a calculator to subtract, divide, and multiply as well.</p>
</section>
<section id="task-2.3" class="level4">
<h4 class="anchored" data-anchor-id="task-2.3">Task 2.3</h4>
<p>Try doing each of these things with the same two numbers.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span> <span class="sc">-</span> <span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span> <span class="sc">*</span> <span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 320</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span> <span class="sc">/</span> <span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Now, let’s say I wanted to have a bunch of different numbers to use for my analysis. In fact, I want every number between 1 and 50. I could do this by typing every number out one by one, but this is exactly the kind of tedious nonsense that computers are great at. Instead, we’ll use the operator <code>:</code>, which means “every whole number between”.</p>
</section>
<section id="task-2.4" class="level4">
<h4 class="anchored" data-anchor-id="task-2.4">Task 2.4</h4>
<p>Print out every whole number between 1 and 50.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">50</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
[26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>One thing to notice here is that the indices I mentioned earlier have come up again. The first element after the [<em>n</em>] index is the <em>n</em>th element. Let’s have a look at this some more.</p>
</section>
<section id="task-2.5" class="level4">
<h4 class="anchored" data-anchor-id="task-2.5">Task 2.5</h4>
<p>Print out all the numbers 12 through 58; all of the numbers 23 through 106; and 36.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>You may have tried something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span><span class="sc">:</span><span class="dv">58</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36
[26] 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span><span class="sc">:</span><span class="dv">106</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41
[20]  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60
[39]  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
[58]  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98
[77]  99 100 101 102 103 104 105 106</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="dv">36</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 36</code></pre>
</div>
</div>
<p>As you can see from the markers, this is three separate commands, because the numbered indices start over from <code>[1]</code> each time. I’d actually like to have all of those numbers together. To do this, I’m going to use a <strong>function</strong> called <code>c()</code>.</p>
<p>To use it, type the name of the function, which includes the brackets. Then, inside the brackets, put the numbers you want to put into a single vector, with different groups separated by commas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">12</span><span class="sc">:</span><span class="dv">58</span>, <span class="dv">23</span><span class="sc">:</span><span class="dv">106</span>, <span class="dv">36</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29
 [19]  30  31  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
 [37]  48  49  50  51  52  53  54  55  56  57  58  23  24  25  26  27  28  29
 [55]  30  31  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
 [73]  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63  64  65
 [91]  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83
[109]  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 101
[127] 102 103 104 105 106  36</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>As you can see from the numbered indices this time, when I put the numbers I want inside the function <code>c()</code>, separated by commas, R <strong>c</strong>ollects (or <strong>c</strong>oncatenates, or <strong>c</strong>ombines) all of the numbers into a single series of elements, called a <strong>vector</strong>.</p>
<p>Actually, this isn’t a new thing; we’ve been looking at vectors this whole time. Any series of pieces of information in R is a vector (but see <span id="vocab-vectors">the Vocab box on vectors and elements</span>. When we were looking at single numbers (like <code>3958</code> above), we were still getting a vector back from R, but it was a vector with only one element, and thus only <code>[1]</code>.</p>
<p>If I want the <em>n</em>th element in the vector we’ve just created, (say, the 88th), I can get it out using the numbered markers by <strong>indexing</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">12</span><span class="sc">:</span><span class="dv">58</span>, <span class="dv">23</span><span class="sc">:</span><span class="dv">106</span>, <span class="dv">36</span>)[<span class="dv">88</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 63</code></pre>
</div>
</div>
<p>What I’ve essentially asked is, “Put all of these numbers into a single vector, and then give me the 88th element in that vector.” As it turns out, the 88th element in that vector of numbers is 63.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vocab: Vectors and Lists
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>vector</strong> is essentially a series of pieces of data, or <strong>elements</strong>. When R returns a vector as the output from a command, each element is numbered in square brackets. These square brackets can also be used to <strong>index</strong> the vector to get the <em>n</em>th element.</p>
<p>For <strong>atomic vectors</strong> created with <code>c()</code> or similar operations, there are some important rules:</p>
<ol type="1">
<li>Each element must be scalar (i.e.&nbsp;of length 1)</li>
<li>All of the elements must have the same data type (or will be coerced)</li>
</ol>
<p>For a complete explanation of vectors (and their more versatile siblings, lists) that’s beyond the scope of this tutorial, see:</p>
<ol type="1">
<li><a href="https://jennybc.github.io/purrr-tutorial/bk00_vectors-and-lists.html">This excellent explainer on vectors and lists</a></li>
<li><a href="https://r4ds.had.co.nz/vectors.html">R for Data Science chapter 20</a></li>
</ol>
</div>
</div>
</section>
<section id="task-2.6" class="level4">
<h4 class="anchored" data-anchor-id="task-2.6">Task 2.6</h4>
<p>To finish up, create a vector of every whole number between 37 and 86, and subtract 7 from each one.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">37-86</span>) <span class="sc">-</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -56</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>This could be a <em>very</em> tedious process, but here we have an example of a <strong>vectorised operation</strong>. By default, the operation “subtract 7” is automatically applied to each individual element of the vector.</p>
<p>We can do a lot more than this with numbers and data in R, but this is an excellent start. Just one note before we move on about the order in which R performs its calculations.</p>
</section>
</section>
<section id="order-of-operations" class="level3 callout-hint">
<h3 class="anchored" data-anchor-id="order-of-operations">Order of Operations</h3>
<p>As you may remember from school, mathematical expressions are evaluated in a certain order. You can use brackets to tell R which part of a longer calculation to do first, e.g.:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dv">59</span> <span class="sc">*</span> (<span class="dv">401</span> <span class="sc">+</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23954</code></pre>
</div>
</div>
<p>Without the brackets, the expression is evaluated from left to right, which in this case would give a different answer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="dv">59</span> <span class="sc">*</span> <span class="dv">401</span> <span class="sc">+</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23664</code></pre>
</div>
</div>
<p>Whenever there’s any chance for ambiguity, always use brackets to make sure the calculation is performed correctly.</p>
</section>
</section>
<section id="characters" class="level2">
<h2 class="anchored" data-anchor-id="characters">Characters</h2>
<p>Characters are a more general data category that also includes letters and words. In R, strings of letters or words must be enclosed in either ‘single’ or “double” quotes, otherwise R will try to read them as code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>Hello world<span class="sc">!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;text&gt;:1:7: unexpected symbol
1: Hello world
          ^</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Hello world!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello world!"</code></pre>
</div>
</div>
<p>As you can see here, the first command without quotes throws an error, whereas the second prints out our command just like it did with the single numbers before.</p>
<p>An important thing to note is that R sees everything inside a pair of quotes as a single element, regardless of how long it is. You can see this in the indices we saw before:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Hi!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hi!"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="st">"It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness..."</code></pre>
</div>
</div>
<p>The <code>[1]</code> markers also tell us that each of the two strings above already constitute vectors, each of length 1. Just like we saw with numbers, above, any number of character strings can be combined into a vector. You can also use the numbered markers to extract the <em>n</em>th element in that vector.</p>
<section id="task-3" class="level3">
<h3 class="anchored" data-anchor-id="task-3">Task 3</h3>
<p>Create a vector containing the first five animals you think of, then print the 3rd one.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"bumblebee"</span>, <span class="st">"squid"</span>, <span class="st">"falcon"</span>, <span class="st">"flea"</span>, <span class="st">"seagull"</span>)[<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "falcon"</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The placement of the quotes is very important here - they can’t include the commas. As we said before, R uses commas to separate different elements. So, if you didn’t enclose each word in quotes separately with commas in between, you would have had this odd message:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"bumblebee, squid, falcon, flea, seagull"</span>)[<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p><code>NA</code> is a very special sequence of letters in R. It indicates that something is <strong>n</strong>ot <strong>a</strong>vailable, and it usually represents missing data, or that a calculation has gone wrong or can’t be performed properly.</p>
<p>Why have we got it here? Essentially, we asked R for the eighth element in a vector that, as far as R can tell, only contained one. This is because there’s only one pair of quotes, so all five animals and the commas between them are considered to be one element. Since there isn’t a fifth element, R has informed us so accordingly - the answer to our query is <code>NA</code>, doesn’t exist. This isn’t what we wanted, but R is not in the wrong here, because it’s done precisely what we told it to do.</p>
</section>
</section>
<section id="logical" class="level2">
<h2 class="anchored" data-anchor-id="logical">Logical</h2>
<p>The final type of data that we’ll look at for now is logical data. In addition to performing calculations and printing out words, R can also tell you whether a particular statement is <code>TRUE</code> or <code>FALSE.</code> To do this, we can use logical operators to form an assertion, and then R will tell us the result.</p>
<section id="task-4" class="level3">
<h3 class="anchored" data-anchor-id="task-4">Task 4</h3>
<p>Ask R whether:</p>
<ul>
<li>5 is greater than 10</li>
<li>6 is less than 12</li>
<li>27 is less than or equal to 27</li>
<li>420 equals 42</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&gt;</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">&lt;</span> <span class="dv">12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span> <span class="sc">&lt;=</span> <span class="dv">27</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="dv">420</span> <span class="sc">==</span> <span class="dv">42</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Asserting Equivalence
</div>
</div>
<div class="callout-body-container callout-body">
<p>The last statement above may have caused you some trouble. If you tried this with a single equals sign, you would have had a strange error:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="dv">420</span> <span class="ot">=</span> <span class="dv">42</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in 420 = 42: invalid (do_set) left-hand side to assignment</code></pre>
</div>
</div>
<p>The problem is that in R, the single equals sign <code>=</code> is equivalent to the assignment operator <code>&lt;-</code>, which we’ll learn how to use in just a moment. Single <code>=</code> also has an important and specific role to play in function arguments. For now, you just need to know that <code>=</code> is a special operator that doesn’t do what we wanted it to do here, and that “exactly equals” in R is <code>==</code>.</p>
</div>
</div>
<section id="task-4.1" class="level4">
<h4 class="anchored" data-anchor-id="task-4.1">Task 4.1</h4>
<p>Use a single command to ask R whether the numbers 2 through 10 are less than or equal to 6.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">&lt;=</span> <span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Here R prints out a value of <code>TRUE</code> or <code>FALSE</code> for each comparison it’s asked to make. So, the first element in the output (<code>TRUE</code>) corresponds to the statement <code>2 &lt;= 6</code>, the second to <code>3 &lt;= 6</code>, and so on. It might not seem like it at the moment, but this can be staggeringly useful for selecting and filtering data that meet particular requirements, or checking our data to find problems - we’ll see how later on!</p>
</section>
</section>
</section>
<section id="class-and-coercion" class="level2">
<h2 class="anchored" data-anchor-id="class-and-coercion">Class and Coercion</h2>
<p>With these simple examples, it may be obvious just by looking that <code>25</code> is a number and <code>porcupine</code> is a word. However, this isn’t always so straightforward, and there are some situations - such as data checking/cleaning, or debugging - where I might want to ask R to tell me what type of data a certain thing is. To do this, I can use another function, <code>class()</code>. R will simply print out, as a character, the name of the data type of whatever I put into the brackets.</p>
<section id="task-5" class="level3">
<h3 class="anchored" data-anchor-id="task-5">Task 5</h3>
<p>Use the <code>class()</code> function to get R to print the value <code>"numeric"</code>.</p>
<p>::: {.callout-tip collapse=“true”} #### Solution</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Any numeric vector will do</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="dv">216907</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="do">## You can also use a longer vector of numbers</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="do">## as long as they are all numbers!</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">291</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="fl">38.7</span>, <span class="dv">100000000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p>:::</p>
<p>You can try the same with vectors containing logical or character data - give it a try!</p>
</section>
<section id="task-6" class="level3">
<h3 class="anchored" data-anchor-id="task-6">Task 6</h3>
<p>What data type does R give you if you combine numbers and characters in <code>c()</code>?</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Again, anything will do</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="dv">93</span>, <span class="sc">-</span><span class="dv">1905</span>, <span class="st">"avocado"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Something interesting has happened here. Recall that atomic vectors created with <code>c()</code> must all have the same data type. Here, we combined two types of data: numeric and character. We didn’t get an error - instead, without warning or telling us, R quietly converted the entire vector to <code>character</code> type. This forcible conversion is called <strong>coersion</strong>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vocab: Coersion
</div>
</div>
<div class="callout-body-container callout-body">
<p>Coersion is when a piece of data is forcibly changed from one data type to another. This is sometimes intentional, but it can happen unintentionally (and without any warning or fanfare!), so is a common source of errors.</p>
<p>Coersion follows a hierarchy; data types on the left can be coerced into the types further along to the right.</p>
<p>logical ==&gt; integer ==&gt; double (numeric) ==&gt; character</p>
<p>As we saw previously, you can check the data type of a vector with <code>class()</code>, or check if it is a particular type (and so receive a logical vector in response) with the <code>is.*()</code> family of functions. (The <code>*</code> notation refers to a placeholder for many different options, such as <code>is.numeric</code>, <code>is.character</code>, etc.)</p>
<p>You can similarly (try to) coerce a vector into a particular data type with the <code>as.*()</code> family of functions.</p>
</div>
</div>
<p>This explains why our vector from Task 6 was a <code>character</code> vector - since the vector contained at least one character element, everything else in the vector was coerced to the same type. This can cause problems because R can sometimes convert numerial data into characters, even though they still <em>look like</em> numbers.</p>
<p>Even though we can do mathematical operations on numbers, we can’t do them on characters; it should be clear that asking e.g.&nbsp;what is <code>"tomato" - 7</code> is nonsense. However, this is the case even if all of the data are numerals! For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="do">## No problem here; all numbers</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">45</span>) <span class="sc">-</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -5 -4 -3 -2 -1  0  1  2  3  4  5  6  7  8  9 10 11 12 13 38</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Doesn't work</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="st">"45"</span>) <span class="sc">-</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in c(2:20, "45") - 7: non-numeric argument to binary operator</code></pre>
</div>
</div>
<p>Even though “45” looks like a number, because it’s in quotes, R thinks that it’s a character, and will refuse to do the calculation, in the same way that it would refuse to do it with “tomato”.</p>
</section>
</section>
<section id="objects" class="level2">
<h2 class="anchored" data-anchor-id="objects">Objects</h2>
<p>R is called a “language” for a reason - it is actually a language, or a way of talking to computers to ask it to do things for you. Like any language, learning to “speak” R takes practice and repetition. In this section, we’ll cover the basic “grammar” of R, including some important ideas about how R understands what you ask it to do. However, just like any language you learn, the best way to really understand what each of these things do is to try them out for yourself, make mistakes, and keep using them until they’re familiar.</p>
<p>In a similar way that the basic unit of English is the word<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, the basic unit of the R programming language is the <strong>object</strong>. This section will explore the basics of what an object is and some of their key features in R.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vocab: Objects
</div>
</div>
<div class="callout-body-container callout-body">
<p>Objects are the basic elements that R is built around - the equivalent of words. An “object” in R is any bit of information that is stored with a particular name. Objects can hold anything, from a single number or word to huge datasets with thousands of data points or complex graphs.</p>
</div>
</div>
<section id="creating-an-object" class="level3">
<h3 class="anchored" data-anchor-id="creating-an-object">Creating an Object</h3>
<p>Let’s start by creating a new object. Here we’ll also formally meet a very important piece of R code: the assignment operator <code>&lt;-</code>.</p>
<p><strong>Note:</strong> At the moment your Environment should be empty. As a reminder, Environment is by default the first (leftmost) tab in one of your four main windows in RStudio. If you have a look at it just says, “Environment is empty”, we’re all good! If for some reason it isn’t, click the broom icon to clear everything from your environment before you get started. Managing your Environment is an important skill that we’ll come back to once we’ve got comfortable working with objects.</p>
<p>First, let’s look at the foundational structure of almost everything you will do in R:</p>
<pre><code>object &lt;- instructions</code></pre>
<p>You can read this code as something like, “The object <code>object</code> is created from (<code>&lt;-</code>) some instructions.” Objects can be named almost anything (although see Naming, below); the object name is just a label so you, the person using R, can find, refer to, and use the information you need. The special operator <code>&lt;-</code>, often called the “assignment operator”, has single job: to assign output to names, or in other words, to create objects. You should <strong>always and only</strong> use <code>&lt;-</code> to create objects; it’s possible, to also use single equals <code>=</code>, but I <em>strongly</em> advise you not to!</p>
<p>So, what about the <code>instructions</code> in this pseudo-code above? These instructions can be very simple: a single number or word, or hundreds of lines of code, or anything in between. They’re simply any value command that produces some output. Whatever output the instructions produce will be “saved”, or assigned, to the name in <code>object</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Naming in R
</div>
</div>
<div class="callout-body-container callout-body">
<p>COMING SOON</p>
</div>
</div>
</section>
<section id="task-7" class="level3">
<h3 class="anchored" data-anchor-id="task-7">Task 7</h3>
<p>Using the <code>object &lt;- instructions</code> structure, create a new object called <code>current_year</code> that contains (as you might expect) the current year.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>current_year <span class="ot">&lt;-</span> <span class="dv">2023</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Let’s have a look at that command. On the left side I’ve written the name I want my new object to have, which I’ve called <code>current_year</code>. (I could have called it anything, like <code>the_first_example_of_an_object_InThisSection.so.far</code> or <code>exobjt7sol1</code> or anything else that follows R’s naming conventions; but it’s a good idea to name your objects something useful, brief, and obvious, so you can remember what they contain.) Then, I’ve written the assignment operator <code>&lt;-</code> to assign whatever comes after it to the object label <code>current_year</code>. Finally, I’ve written instructions for what I want this object to contain: in this case, just the number <code>2023</code>.</p>
<p>Make sure you do this yourself in your own document, even if you’ve looked at the solution rather than trying it for yourself first. Once you’ve typed the command, there’s a final, critical step to actually create the object: you have to <strong>run</strong> the command in order for it to take effect. As a reminder, you can do this by clicking the green ▶️ button in the upper right corner of the code chunk, or by pressing Ctrl/Cmd + Enter when your cursor is blinking on the same line as the code you want to run.</p>
<p>Assuming your code is valid, you should see the green bar appear along the left-hand side of the code chunk, but you might notice that there’s no printout that appears under the code chunk, as there was previously. In fact, if the code ran successfully, it might look like nothing happened at all! To find out what did happen, have a look again in your Environment pane. You should now see a new section, “Values”, and underneath the name of your new object and what it contains. Success!</p>
</section>
<section id="calling-an-object" class="level3">
<h3 class="anchored" data-anchor-id="calling-an-object">Calling an Object</h3>
<p>For any object, from the most simple to the most complex, you can always see what’s in it by <strong>calling</strong> the object. This simply means that you type the name of the object and run it. R will print out whatever is stored in the object.</p>
<section id="task-8" class="level4">
<h4 class="anchored" data-anchor-id="task-8">Task 8</h4>
<p>Call the <code>current_year</code> object.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>current_year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>This output looks just like what we saw earlier in Task 1, when we just asked R to print out a number for us. R tells you that there is one value in the <code>current_year</code> object, which is the number 2023. In essence, the object name <code>current_year</code> is just a label for the number it contains.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important: Creating vs Calling
</div>
</div>
<div class="callout-body-container callout-body">
<p>These two actions are the essential basis of everything you will do in R. All of your code will, at base, either create an object, or call an object. (Changing an existing object, as we’ll see shortly, is the exact same procedure as creating one from scratch.)</p>
<p>When you successfully <strong>create</strong> an object using the assignment operator (<code>&lt;-</code>), the object is created but is <strong>not</strong> printed out. This is because R always does only and exactly what you ask it to do, and using the assignment operator only tells R to assign something to an object, not to print it out.</p>
<p>When you <strong>call</strong> an object, the current contents of that object are printed out, but that object is <strong>not</strong> changed - you only reproduce a copy of its contents for review. To create or change an object, you must use the assignment operator to assign the output to a new (or existing) object name.</p>
</div>
</div>
<p>Let’s make all of this a bit more concrete by seeing how we can use objects effectively.</p>
</section>
</section>
<section id="using-objects" class="level3">
<h3 class="anchored" data-anchor-id="using-objects">Using Objects</h3>
<section id="task-9" class="level4">
<h4 class="anchored" data-anchor-id="task-9">Task 9</h4>
<p>Create an object called <code>birth_year</code> that contains the year you were born.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>birth_year <span class="ot">&lt;-</span> <span class="dv">1988</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>I have used my own birth year here, but you should replace the number with your own birth year. Again, when you type this command and run the command, it will seem like nothing happens. However, you will be able to see the new object in your Environment.</p>
<p>Now we have two objects, <code>current_year</code> and <code>birth_year.</code> Since both of these objects contain a number, we can use them as if they were numbers.</p>
</section>
<section id="task-10" class="level4">
<h4 class="anchored" data-anchor-id="task-10">Task 10</h4>
<p>Using these two objects, get R to print out your own age in years.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>current_year <span class="sc">-</span> birth_year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
</div>
<p>This line of code subtracts <code>birth_year</code> from <code>current_year.</code> Because these objects contain numbers, R treats them as if they were numbers, and outputs the difference between them.</p>
</div>
</div>
</div>
<p>We can also do any other mathematical operations on objects that contain numbers.</p>
</section>
<section id="task-11" class="level4">
<h4 class="anchored" data-anchor-id="task-11">Task 11</h4>
<p>Write some mathematical equations using the <code>current_year</code> object.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>current_year<span class="sc">*</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10115</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>current_year<span class="sc">+</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2028</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>current_year<span class="sc">^</span><span class="dv">2</span> <span class="co"># to the power of 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4092529</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>This is all well and good, but there’s no real benefit to doing this with an object called <code>current_year</code>, rather than just using the number <code>2023</code>. Instead, we can take advantage of objects by storing <em>multiple pieces of information</em> in a single object.</p>
</section>
<section id="task-12" class="level4">
<h4 class="anchored" data-anchor-id="task-12">Task 12</h4>
<p>Use the code below as a template to create an <code>ages</code> object, replacing the numbers with the ages of yourself and all your family members, in whatever order you like.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">29</span>, <span class="dv">64</span>, <span class="dv">89</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Again, when I run this command, a new object appears in my Environment, called <code>ages.</code> This one looks a bit different than the other two, though. In Environment, I can see that this object contains numbers (“num”); that there are four of them ([1:5]); and that those numbers are 35, 29, 64, 89, and 2. This new object is another vector, as we saw earlier. This particular object is a vector of length 5 - that is, it has five elements in it.</p>
</section>
<section id="task-13" class="level4">
<h4 class="anchored" data-anchor-id="task-13">Task 13</h4>
<p>Ask R for the class of the <code>ages</code> object.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>This might not have been what you expected, but remember, <code>ages</code> (importantly, <em>without</em> quote marks!) is the name of an object. To find out what kind of data it is, R looks at what that object contains, not at the name of the object itself. We already saw that <code>ages</code> contains only numbers; so, R tells us that it’s a numeric vector.</p>
<p>One more example to emphasize this point, because it’s often a source of confusion when starting out with R. If we want to ask R the class of the word “ages”, we would need to put it in quotes, and we’d get a different answer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="st">"ages"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>The key thing here is that objects have the class of the data they contain, and are not character data; and whenever you want to use an object, you <strong>must not</strong> use quotation marks. On the other hand, if you want to input character data into R, you <strong>must</strong> use quotation marks. Otherwise, R will look for an object or function with that name, which will likely produce a “cannot find object” error.</p>
<p>So, if the object <code>ages</code> is just a convenient name for a vector of numbers, what happens if we try to do the same maths we did before? For instance, I might want to calculate the birth year of each of my family members, using their ages. To do this, I have to subtract each of their ages from the current year. I could do this one at a time - or all at once using my <code>ages</code> object.</p>
</section>
<section id="task-14" class="level4">
<h4 class="anchored" data-anchor-id="task-14">Task 14</h4>
<p>Calculate each of your family members’ birth years using your <code>ages</code> object, and save the birth years you’ve just calculated in an object called <code>birth_year</code>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-25-contents" aria-controls="callout-25" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-25" class="callout-25-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>birth_year <span class="ot">&lt;-</span> current_year <span class="sc">-</span> ages</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Because we’ve used the assignment operator, R doesn’t print out the years. Instead, the output of our calculation is saved as the object <code>birth_year.</code> Hmm - didn’t we already have an object called <code>birth_year</code>, though? What happened to it?</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important: Overwriting Objects
</div>
</div>
<div class="callout-body-container callout-body">
<p>You might notice that we already had an object called <code>birth_year</code> that we created above. R, again, does only and exactly what you ask it to do. Unlike, say, a word processer, that will give you a warning if you try to save two documents in the same folder with the same name, R won’t ask you if you’re sure you want to overwrite an existing object with new information - it will just <strong>do it</strong>. If you have a look in your Environment, you will see that the previous version of <code>birth_year</code>, containing only your birth year, has been quietly replaced with the new one containing the vector of birth years you just created.</p>
<p>This can be a good thing, because you can easily update the information stored in an object with changes, edits, or new information. However, it also means that you can overwrite or replace data when you don’t want to, if you use the same object name.</p>
<p>This is why it is so important to keep track of all of the commands and changes you make to your data. If you accidentally replace your dataset with, say, a single word or number with an error in your code, you can easily retrace your steps and avoid redoing work.</p>
<p>If you are interested in understanding this process of assigning and replacing the contents of objects better, the aside below explains it in more depth.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-26-contents" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Can you actually change an object?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-26-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Think of objects as boxes. The names of the objects are only <em>labels</em>, and you can store anything you like inside them. However, unlike in the physical world, objects in R cannot truly change. You can put stuff in and take stuff out, and that’s pretty much it. Unlike boxes, though, when you take stuff out of objects, you only take out a <strong>copy</strong> of its contents. The original contents of the box remain intact. Of course, you can do whatever you want (within limits) to the stuff once you’ve taken it out of the box, but you are only modifying the copy. The key thing to remember is that unless you put that modified stuff into a box, R will forget about it as soon as it’s done with it. In other words, if you want to “save” any changes you make, you must assign them to an object in order to keep them.</p>
<p>Now, as you probably know, you can call your boxes (objects) whatever you want (again, within certain limits). This means that that you can call the new box the same as the old one, as we saw with <code>birth_year</code> above. When that happens, R basically takes the label off the old box, pastes it on the new one, and burns the old box. So even though some operations in R may look like they change objects, what’s actually happening is that R copies their content, modifies it, stores the result in a different object, puts the same label on it, and discards the original object. Understanding this mechanism will make things much easier!</p>
<p>Putting the above into practice, this is how you “change” an R object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># put 1 into an object (box) called a</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co"># copy the content of a, add 1 to it and store it in an object b</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> a <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="co"># copy what's inside b and put it in a new object called a</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a><span class="co"># discarding ("overwriting") the old object a</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> b</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a><span class="co"># now see what's inside of a</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a><span class="co"># (by copying its content and pasting it in the console)</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Of course, you can just cut out the middleman (creating an object b). So to increment <code>a</code> by another 1, we can do:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> a <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>We will talk further about using scripts and writing multiple commands below; but first, we’ll need to have a look at a very important type of object in R: the function.</p>
</section>
</section>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<p>Functions are like verbs in the R language - they’re how R <em>does</em> anything. Functions may not look exactly like verbs in the language you speak because they have a different syntax (i.e., a different order and grammar), but they work in a very similar way. In order to use them, you need to learn how to “translate” the command you want to give R into a verb (function) it can understand.</p>
<section id="fun-with-functions" class="level3">
<h3 class="anchored" data-anchor-id="fun-with-functions">Fun with Functions</h3>
<p>In this section, we’ll go through a step-by-step worked example of puzzling out how to use a function.</p>
<p>Let’s look at an example of how functions are like verbs, drawing on some basic linguistics. We’ll start with the English command, “Round the number 7.3928 to two decimal places.” If we want R to do this for us, we have to write this command in a way that R can understand. First, we need to know what function corresponds to the English verb “round” - that is, what function will do the same action that we want R to perform. We’re lucky in this case: the function in R is also called <code>round()</code>. (See the box below for more on how to find the function you want.)</p>
<p>We know that we’re looking at a function in R because functions always have a name followed by brackets. That is, they always have the general form <code>function_name()</code>. Inside the brackets, we can add more information to the function to complete our command, although not all functions require any more information.</p>
</section>
<section id="task-15" class="level3">
<h3 class="anchored" data-anchor-id="task-15">Task 15</h3>
<p>Try running the <code>round()</code> function.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): 0 arguments passed to 'round' which requires 1 or 2 arguments</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Unsurprisingly, R has given us an error. This is an <strong>informative</strong> error, though - that is, the error gives of some sort of intelligible clue about what’s gone wrong. Namely, it tells us that <code>round()</code> can’t just work without additional information (i.e.&nbsp;“required arguments”). Imagine, for instance, if you wanted a friend or colleague to round 7.3928 to two decimal places, and in order to ask them to do that, you just shouted “ROUND!” at them. Just like that person would would, R has objected to this, telling you that it needs more information in order to do what you’ve asked it to.</p>
<p>Our original command, “Round the number 7.3928 to two decimal places”, has two more important pieces of information that we need to tell R: what number we want to round (7.3928) and how many decimal places we want to round it to (2). So, how do we say this in R? To find out, let’s look at the help documentation.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Help Documentation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Help documentation is information, like instruction manuals, built into R about how individual functions work. Function documentation varies wildly in helpfulness and completeness, but it’s a useful place to check first if you want to find out what a function does. You can access the help documentation in a few different ways: by running <code>?function_name</code> or <code>help(function_name)</code> in the console, or by clicking on the “Help” tab in the Files section of RStudio and using the Find box to search for the function.</p>
</div>
</div>
<section id="task-16" class="level4">
<h4 class="anchored" data-anchor-id="task-16">Task 16</h4>
<p>Pull up the help documentation for <code>round()</code> in RStudio.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-30-contents" aria-controls="callout-30" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-30" class="callout-30-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>?round</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>starting httpd help server ... done</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The first section, “Description”, varies quite a bit in intelligibility, depending on how complex the function is. Here, if we ignore the information about the other function including in this document, we can see that we have a useful description of <code>round()</code> that tells us that it rounds numbers (yay!) to a certain number of decimal places. That’s exactly what we want, so how do we use it?</p>
<p>Let’s scroll down to “Usage”, which gives examples of what the function looks like. You can see that the basic structure of this function is <code>round(x, digits = 0)</code>. It seems like we need to add some more information in the brackets of our function - but how do we interpret <code>x</code> and <code>digits = 0</code>?</p>
</section>
</section>
<section id="arguments" class="level3">
<h3 class="anchored" data-anchor-id="arguments">Arguments</h3>
<p>The information inside a function’s brackets to give it the information it needs to work are called <strong>arguments</strong>. Each argument in a function is separated by a comma, so we can see from <code>round(x, digits = 0)</code> that the <code>round()</code> function can take two arguments. How many arguments a function has depends on the function; some (like <code>Sys.Date()</code>) don’t need any arguments to run. One of the most useful parts of a function’s help documentation is the “Arguments” section, which tells you what each of the function’s arguments are and how to use them.</p>
<p>There are two main types of arguments: named and unnamed arguments. Conveniently, the arguments of <code>round()</code> give us one example of each.</p>
<section id="unnamed-arguments" class="level4">
<h4 class="anchored" data-anchor-id="unnamed-arguments">Unnamed Arguments</h4>
<p>The first argument to <code>round()</code> is simply <code>x</code>. Just like in maths, <code>x</code> is a placeholder for some number or numbers (a “numeric vector”, which should sound familiar now) that you want to pass to the function. This is common notation in many functions: <code>x</code>, often the first argument in a function, is often the placeholder for the information you want to use the function on. In our case, we just have one number we want to round, so that’s what we should replace with <code>x</code>.</p>
</section>
<section id="named-arguments" class="level4">
<h4 class="anchored" data-anchor-id="named-arguments">Named Arguments</h4>
<p>The second argument of round() is a named argument, <code>digits = 0</code>. You can think of named arguments like settings that change the way a function works, often with only certain allowable values. Here we can see that the name of the argument is <code>digits</code>; the name before the <code>=</code> sign tells R which setting we want to change.</p>
<p>The help documentation tells us that <code>digits</code> should be an “integer indicating the number of decimal places…to be used.” We can also see in “Usage” that this argument has a default value, <code>digits = 0</code>. That means that if we don’t explicitly include the argument <code>digits</code> when we use the function, by default the <code>round()</code> function will round the number you give it to 0 decimal places. Named arguments frequently, but not always, have a default, and it’s important to check so the function doesn’t quietly do something unexpected.</p>
<p>Default values of arguments are really useful, because the default is usually the most frequently used setting. It means you don’t have to specify every single aspect of a function every time you use it, as long as you want the function to work that way! In our case, we actually wanted <code>round()</code> to round to two decimal places, not 0. So, in our command, we should change the setting from the default, 0, to 2.</p>
</section>
</section>
<section id="using-functions" class="level3">
<h3 class="anchored" data-anchor-id="using-functions">Using Functions</h3>
<p>Now that we know what both of these arguments mean, we can change them to actually translate the English sentence “Round the number 7.3928 to two decimal places” into a command that R can work with. We’ll explicitly write out each argument so we know what they are doing.</p>
<section id="task-17" class="level4">
<h4 class="anchored" data-anchor-id="task-17">Task 17</h4>
<p>Use the <code>round()</code> function to round 7.3928 to two decimal places.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-31-contents" aria-controls="callout-31" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-31" class="callout-31-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">7.3928</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.39</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Order of Arguments
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you want to, you can achieve the same result by changing the order of the arguments. Because we have written the names of both arguments, R can still do what we want it to do:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">x =</span> <span class="fl">7.3928</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.39</code></pre>
</div>
</div>
<p>We can also, to some degree, drop the names of the arguments, as long as R can still understand what we’re trying to do:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="fl">7.3928</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.39</code></pre>
</div>
</div>
<p>Here I left out the <code>x =</code>. R can still understand this because <code>round()</code> only takes two arguments, and we explicitly told it what value belongs to <code>digits</code>, so it assumes the second number must be <code>x</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">7.3928</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.39</code></pre>
</div>
</div>
<p>This time I dropped both argument names. R can still understand this because when you don’t specify which input goes with which argument, R will assume they should go in the default order given in the help documentation. So, R has automatically assigned 7.3928 to <code>x</code> and 2 to <code>digits</code>, which is what we wanted.</p>
<p>As I’ve become more proficient at writing code, I find that I’m <em>more</em> insistent on naming arguments, even though I know how the function works and dropping them is more efficient (at least in terms of typing). That’s because Future Me hasn’t been staring at this code for the last five hours, and verbose code is much, much easier to read! So, I strongly recommend getting in the habit of including argument names in your code as a favour to your future self, and to avoid situations like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="dv">2</span>, <span class="fl">7.3928</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Here, since we didn’t specify, R assumed that 2 was the number we wanted to round. This isn’t what we wanted - but R has no way of knowing this. It always assumes that what we typed was precisely what we intended to ask R to do.</p>
</div>
</div>
</section>
<section id="passing-multiple-values-to-arguments" class="level4">
<h4 class="anchored" data-anchor-id="passing-multiple-values-to-arguments">Passing Multiple Values to Arguments</h4>
<p>A last important aspect of using functions is to remember that each argument in a function can only take a single object as input. For example, we saw above that we put the single value 7.3928 into the <code>x</code> argument of <code>round()</code>. But what if we wanted to round more than one number? We don’t want to have to write a new <code>round()</code> command for every number, even though we could do this if we particularly enjoyed doing a lot of tedious and repetitive typing:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">7.3928</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.39</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ughhhh</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">59.54</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59.54</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="do">## noooooo :(</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">0.198</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="do">## thanks I hate it</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So what happens if we try to put all of those numbers into <code>round()</code>? We might first try this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): 4 arguments passed to 'round' which requires 1 or 2 arguments</code></pre>
</div>
</div>
<p>Once again, R tells us that this doesn’t work by throwing an error. R has tried to do what we wanted, but the <code>round()</code> function only allows a max of two arguments, and we’ve given it four. Behind the scenes, R has tried to run <code>round(x = 7.3928, digits = 59.54...</code> and can’t proceed from there because it doesn’t know what to do with the last two numbers. So, what we need to do is find a way to put all three numbers that we want to round into the first <code>x</code> argument together. If only there was a way to <strong>c</strong>oncatenate them together…</p>
<p>You may have guessed where this is going: one method we could use would be to put the three numbers we want to round into a single object, and then pass that object to <code>round()</code> as the <code>x</code> argument. We already saw that we can combine any number of things together into a single vector using the <code>c()</code> function.</p>
</section>
<section id="task-18" class="level4">
<h4 class="anchored" data-anchor-id="task-18">Task 18</h4>
<p>Use <code>c()</code> to create a new object containing the three numbers 7.3928, 59.54, and 0.198, then use <code>round()</code> to round them to two decimal places.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-33-contents" aria-controls="callout-33" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-33" class="callout-33-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>)</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(numbers, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7.39 59.54  0.20</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Perfect! This time, all three numbers together went into the <code>x</code> argument.</p>
<p>We could also simplify this even further by removing the intermediate step of creating the <code>numbers</code> object.</p>
</section>
<section id="task-19" class="level4">
<h4 class="anchored" data-anchor-id="task-19">Task 19</h4>
<p>Use <code>c()</code> and <code>round()</code> together in a single command to get the same output as above.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-34-contents" aria-controls="callout-34" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-34" class="callout-34-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">c</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7.39 59.54  0.20</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Here we can see a good example of a function inside another function. You can stack, or “nest”, functions inside each other like this as much as you like, although it can become difficult to read the code or keep track of what it’s doing. (In the next tutorial, we’ll introduce a popular alternative to writing nested code: the pipe operator.)</p>
<p>That’s looking like some proper R code! Very nicely done.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Help Documentation, Revisited
</div>
</div>
<div class="callout-body-container callout-body">
<p>Before we leave the <code>round()</code> function altogether, let’s take a look at two more useful sections of the help documentation. Depending on what you are trying to do, the “Details” section can tell you more about how exactly the function works - how it behaves in certain situations, or how it handles unusual or difficult cases. If a function isn’t doing what you expect it to, this is a good place to look for an explanation.</p>
<p>Finally, at the end of the documentation you can find the “Examples” section. If you are learning to use a new function, this section can give you a template for writing your own commands. You can also click the “Run examples” link, which will run the code in the Examples section for you so you can see what the function will do.</p>
</div>
</div>
</section>
</section>
<section id="choosing-functions" class="level3">
<h3 class="anchored" data-anchor-id="choosing-functions">Choosing Functions</h3>
<p>Just like learning a new language, when you start out in R your “vocabulary” of functions will be small, and you’ll only be able to “speak” a small number of commands from memory. As you work more in R and practice using more functions, your vocabulary will grow. However, if you are trying to do something new or unusual in R, finding the right function that does what you want it to do often takes some work and research. This is just like having to look up a new word or phrase in the dictionary if you don’t know how to say something in the language you’re learning.</p>
<p>If you don’t know what function to use, your first step can be to Google it with a search like “function to [whatever you want to do] in R”, which will often put you on the right track! (R’s internal help search is often most useful when you already know the name of the function you want to use.)</p>
</section>
</section>
<section id="packages" class="level2">
<h2 class="anchored" data-anchor-id="packages">Packages</h2>
<p>In this final section for this tutorial, we’ll introduce one of the main strengths of R: its many, many user-written open-source packages.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vocabulary: Package
</div>
</div>
<div class="callout-body-container callout-body">
<p>A package is a bundle of (usually, but not necessarily!) multiple functions. Some packages, like {base} and {stats} (that contain the <code>c()</code> and <code>round()</code> functions we have used respectively) come automatically installed and loaded with R, and you can use them right off the bat without having to do anything special. For the others, you must install and load them before you can use them.</p>
</div>
</div>
<section id="rounding-revisited" class="level3">
<h3 class="anchored" data-anchor-id="rounding-revisited">Rounding, Revisited</h3>
<p>Let’s say at this point that we’re not entirely happy with the way <code>round()</code> did the rounding on our four numbers. We actually wanted the output to drop the leading 0 and keep the trailing 0, so instead of rounding 0.198 to 0.2, we wanted .20. Looking at the documentation for <code>round()</code>, there doesn’t seem to be a way to change this in the <code>round()</code> function itself. So, we’ll need to find another function that does what we want it to do<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p>With a bit of industrious Googling, we can find that there’s a different function, <code>rd()</code>, that does drop the leading 0. Fantastic! Let’s do it.</p>
<section id="task-20" class="level4">
<h4 class="anchored" data-anchor-id="task-20">Task 20</h4>
<p>Use <a href="https://www.rdocumentation.org/packages/weights/versions/1.0.1/topics/rd">the help documentation for <code>rd()</code></a> to round the same three numbers as above.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-37-contents" aria-controls="callout-37" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-37" class="callout-37-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rd</span>(<span class="fu">c</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in rd(c(7.3928, 59.54, 0.198), digits = 2): could not find function "rd"</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>What happened? We know we spelled the function correctly (it’s only two letters!) and we can see from the help documentation that the arguments are the same as for <code>round()</code>. Why doesn’t this work?</p>
<p>There’s a hint in the upper right corner of the help documentation that says: “From weights v1.0.1”. This is the name of the <strong>package</strong> that contains the function <code>rd()</code>. From the error message that R gave us above, we can tell that R doesn’t come with this package pre-loaded. So, even though the function does exist, we don’t currently have access to it.</p>
</section>
</section>
<section id="installing-packages" class="level3">
<h3 class="anchored" data-anchor-id="installing-packages">Installing Packages</h3>
<p>Once you know the name of the package you want to install (as we found out above), you can then ask R to go on the Internet, find the package, and install it. Luckily, the function that does this is very easy to remember!</p>
<section id="task-21" class="level4">
<h4 class="anchored" data-anchor-id="task-21">Task 21</h4>
<p>Run the code below to install the {weights} package <strong>in the Console</strong> (and NOT in a code chunk!)</p>
<p><strong>Hint</strong>: Notice the quote marks. This function won’t work properly if you don’t put in the quotes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"weights"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You should see a lot of code come up very quickly - the default colour scheme in RStudio has this text in red, which looks alarming, but unless you see the word “ERROR”, everything’s fine. There will be lots of <code>trying URL</code> and then<code>installing *binary* package</code> and finally <code>The downloaded source packages are in</code> followed by a file name. If this is what happened when you ran this function, congratulations! You are now the proud owner of a copy of the {weights} package, successfully installed on your computer.</p>
<p>(Note: If R throws an error and tells you that the package failed to install, see <a href="https://support.posit.co/hc/en-us/articles/200554786-Problem-Installing-Packages">this troubleshooter for solving package installation errors</a>.)</p>
<p>Now that we have the package that contains the <code>rd()</code> function, let’s try using it again.</p>
</section>
<section id="task-22" class="level4">
<h4 class="anchored" data-anchor-id="task-22">Task 22</h4>
<p>Run the same <code>rd()</code> command as above.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-38-contents" aria-controls="callout-38" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-38" class="callout-38-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rd</span>(<span class="fu">c</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in rd(c(7.3928, 59.54, 0.198), digits = 2): could not find function "rd"</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The same “cannot find function” error comes up again, even though we’re sure now that we have the correct package installed. What happened?</p>
</section>
</section>
<section id="loading-packages" class="level3">
<h3 class="anchored" data-anchor-id="loading-packages">Loading Packages</h3>
<p>Even though we’ve installed the package, we haven’t yet loaded it into our current session of R. To do this, we need a second command that will tell R that we want to access the {weights} package and the functions in it.</p>
<section id="task-23" class="level4">
<h4 class="anchored" data-anchor-id="task-23">Task 23</h4>
<p>Run the following code to load the {weights} package.</p>
<p><strong>Hint</strong>: No quote marks this time!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(weights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Hmisc</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: lattice</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: survival</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Formula</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: ggplot2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'Hmisc'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    format.pval, units</code></pre>
</div>
</div>
<p>If you installed the package successfully, you should find that nothing (apparently) happens when you execute this command. That’s a good thing - it means the command has run without errors. However, if we want to check, let’s have a look at the packages that are currently loaded.</p>
<p>To do this, look at the “Packages” tab (next to the “Files” and “Plots” tabs). Here you can see a list of all of the packages that are currently installed in R. The ones with a tick mark next to them are currently loaded. If you scroll down, you should see {weights} in this list with a tick. Pick another random package and click on the tick box; you should see that RStudio automatically runs another <code>library()</code> command in the Console for you.</p>
</section>
<section id="task-24" class="level4">
<h4 class="anchored" data-anchor-id="task-24">Task 24</h4>
<p>Now that the {weights} package is loaded, run the same <code>rd()</code> command again.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-39-contents" aria-controls="callout-39" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-39" class="callout-39-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rd</span>(<span class="fu">c</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "7.39"  "59.54" ".20"  </code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Success!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-40-contents" aria-controls="callout-40" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Installing vs Loading
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-40" class="callout-40-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Installing vs loading packages is often a source of confusion when starting out with R, so let’s look at this in a bit more depth.</p>
<p>When you open up RStudio the first time, this is a lot like buying a new mobile phone. When you get a new phone, it comes with some apps pre-installed, like a messaging app, a camera, a calculator, etc. If you only ever wanted to take pictures and do basic maths with your phone, you could probably leave it at that. Most likely, though, you want to use other apps that don’t come with the phone - like WhatsApp, or Outlook. Let’s say you’ve just got a new phone and you want to post about it on Facebook. To do this, you’ll need to:</p>
<ol type="1">
<li>Go to your phone’s app store and download the Facebook app.</li>
<li>Once the download is complete, you have to open the app to use it.</li>
</ol>
<p>You must complete both of these steps in order to use the Facebook app. You might recognise that these correspond almost exactly to <code>install.packages()</code> and <code>library()</code> respectively. In order to use a package that doesn’t come pre-installed with R, you have to do both of these things.</p>
<p>An important point to note here is that you typically only have to download the Facebook app to your phone once, the first time you want to use it. After that, you can just open the app that you’ve already downloaded. This is the exactly the same way that you should use <code>install.packages()</code> and <code>library()</code>. You typically only need to use <code>install.packages()</code> once per device, and you should always run the command in the Console, not in your documents (where they often cause errors!). However, you will need to load the packages you want to use for any particular document with <code>library()</code> every time.</p>
<p>In summary:</p>
<ol type="1">
<li><code>install.packages()</code>: downloads and installs a package; run only once in the console</li>
<li><code>library()</code>: loads a package for current use; run at the start of every session, include at the beginning of every document</li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-41-contents" aria-controls="callout-41" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Verbose Code and Conflicts
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-41" class="callout-41-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At the risk of causing confusion, you can get around some of the annoying issues with <code>library()</code> by using <strong>verbose code</strong>. This means that instead of writing only the function name, in your code you write the package name along with the function name to run the code, separated by a double colon, like this: <code>package_name::function_name()</code>. Because R knows where to look for the function, it doesn’t matter if the package is loaded or not!</p>
<p>To see this, un-load (that is, detach) the {weights} package, either by unticking the box next to it in the “Packages” tab, or by running the code below in the Console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">"package:weights"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You should see that if you try to run the same <code>rd()</code> command, you again get a “function not found” error:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rd</span>(<span class="fu">c</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in rd(c(7.3928, 59.54, 0.198), digits = 2): could not find function "rd"</code></pre>
</div>
</div>
<p>Now add on the package name, and the function runs just fine:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>weights<span class="sc">::</span><span class="fu">rd</span>(<span class="fu">c</span>(<span class="fl">7.3928</span>, <span class="fl">59.54</span>, <span class="fl">0.198</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "7.39"  "59.54" ".20"  </code></pre>
</div>
</div>
<p>Of course, you must still have the {weights} package installed!</p>
<p>Verbose code is also an excellent failsafe to prevent errors or unintended output due to <strong>conflicts</strong>. A conflict occurs when two packages contain a function with the same name. There are many, many people in the R community designing functions and packages, and although they try to avoid giving functions the same name, sometimes it happens.</p>
<p>If you don’t include a package name with your function call, whichever package you’ve loaded most recently will be the one that R uses. In R terminology, the most recently loaded function will <strong>mask</strong>, or take precedence over, any other functions with the same name. R will also give you a warning when you load a package with conflicts, although those warnings can be easy to miss (there was a message to this effect when we loaded the {weights} package - did you see it?). There are methods to deal with it, like the {conflicted} package, but one of the most foolproof is to always use the <code>package_name::function_name()</code> verbose notation.</p>
<p>If you wrote every function like this, you would never have any problem with accidentally using the wrong function, so some people recommend it as best practice (especially if you are writing packages for other people to use). However, it also makes your code a bit harder to read at a glance and is more onerous to type. You can do it either way - it’s up to you!</p>
</div>
</div>
</div>


</section>
</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>As a linguist I have to note, one, <a href="https://amazingakita.tumblr.com/post/181685581034/people-who-dont-even-care-about-language-how-can">words don’t exist</a>, and two, the closest linguistic term for what an object is is probably “lexeme”. “Word” will get you in the right vicinity, though, conceptually. If you’d like to dive down this rabbit hole (rabbit-hole?) <a href="https://www.youtube.com/watch?v=93sK4jTGrss">this Crash Course video on morphology</a> is a good place to start, but don’t forget to come back and keep working on R!<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>You may not find any that you’d quite like to use - in that case, of course, you can code something new! Oh, the functions you’ll write…<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>